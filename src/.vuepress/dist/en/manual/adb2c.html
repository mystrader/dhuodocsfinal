<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AD B2C | DhuoDocs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A powerful system to manage your APIs">
    <meta name="theme-color" content="#8E3CCB">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.80991633.css" as="style"><link rel="preload" href="/assets/js/app.53d928aa.js" as="script"><link rel="preload" href="/assets/js/2.18ae1073.js" as="script"><link rel="preload" href="/assets/js/14.aec92575.js" as="script"><link rel="prefetch" href="/assets/js/10.68e5a25a.js"><link rel="prefetch" href="/assets/js/11.0bcdd501.js"><link rel="prefetch" href="/assets/js/12.87eb4527.js"><link rel="prefetch" href="/assets/js/13.518a483e.js"><link rel="prefetch" href="/assets/js/15.dc93a51e.js"><link rel="prefetch" href="/assets/js/16.93337380.js"><link rel="prefetch" href="/assets/js/17.faea5717.js"><link rel="prefetch" href="/assets/js/18.12b8233a.js"><link rel="prefetch" href="/assets/js/19.92108bd3.js"><link rel="prefetch" href="/assets/js/20.d5993605.js"><link rel="prefetch" href="/assets/js/21.5facf4de.js"><link rel="prefetch" href="/assets/js/22.fbb14bbc.js"><link rel="prefetch" href="/assets/js/3.fb2d1aa3.js"><link rel="prefetch" href="/assets/js/4.ef69af8f.js"><link rel="prefetch" href="/assets/js/5.4aae80c5.js"><link rel="prefetch" href="/assets/js/6.1f2f3ce7.js"><link rel="prefetch" href="/assets/js/7.15b69b5e.js"><link rel="prefetch" href="/assets/js/8.d654f49d.js"><link rel="prefetch" href="/assets/js/9.dfa592eb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.80991633.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">DhuoDocs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/manual/" class="nav-link">
  Manuais
</a></div><div class="nav-item"><a href="/links/" class="nav-link">
  Links
</a></div><div class="nav-item"><a href="https://www.engdb.com.br/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Engineering
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/manual/adb2c.html" class="nav-link">
  pt-BR
</a></li><li class="dropdown-item"><!----> <a href="/en/manual/adb2c.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li></ul></div></div> <a href="https://github.com/mystrader/dhuodocsfinal.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/manual/" class="nav-link">
  Manuais
</a></div><div class="nav-item"><a href="/links/" class="nav-link">
  Links
</a></div><div class="nav-item"><a href="https://www.engdb.com.br/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Engineering
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/manual/adb2c.html" class="nav-link">
  pt-BR
</a></li><li class="dropdown-item"><!----> <a href="/en/manual/adb2c.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li></ul></div></div> <a href="https://github.com/mystrader/dhuodocsfinal.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ad-b2c"><a href="#ad-b2c" class="header-anchor">#</a> AD B2C</h1> <p></p><div class="table-of-contents"><ul><li><a href="#pre-requisitos">Pre-requisitos</a></li><li><a href="#provisionamento-tenant-b2c">Provisionamento Tenant B2C</a></li><li><a href="#configuracao-extensao-vscode">Configuração extensão vscode</a></li><li><a href="#configuracao-app-settings-json">Configuração app.settings.json</a></li><li><a href="#build">Build</a></li><li><a href="#deploy">Deploy</a></li><li><a href="#configuracoes-dhuo">Configurações DHUO</a><ul><li><a href="#ad-b2c-custom-ui-adb2c-login-estatico">AD B2C Custom UI (adb2c-login-estatico)</a></li></ul></li></ul></div><p></p> <p>O DHUO utiliza o AD B2C para gerenciar o registro e autenticação de usuários para acesso aos portais e APIs do produto.</p> <p>O AD B2C permite a criação de políticas customizadas para o fluxos de usuário. Essas políticas são definidas nos XMLs baseados na documentação oficial.</p> <h2 id="pre-requisitos"><a href="#pre-requisitos" class="header-anchor">#</a> Pre-requisitos</h2> <ul><li>VSCode (https://code.visualstudio.com)</li> <li>Azure AD B2C extension for VS Code (https://marketplace.visualstudio.com/items?itemName=AzureADB2CTools.aadb2c)</li> <li>Azure subscription para provisionamento do Azure AD B2C (https://docs.microsoft.com/pt-br/azure/active-directory-b2c/overview)</li></ul> <h2 id="provisionamento-tenant-b2c"><a href="#provisionamento-tenant-b2c" class="header-anchor">#</a> Provisionamento Tenant B2C</h2> <p>Provisionar um tenant b2c, registrar os apps e policy keys em uma conta azure. Vide <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">AD B2C -  Provisionamento-Azure</a>.</p> <h2 id="configuracao-extensao-vscode"><a href="#configuracao-extensao-vscode" class="header-anchor">#</a> Configuração extensão vscode</h2> <p>A extensão do vscode é responsável por fazer o build e upload das policies no Azure AD B2C. Seguir a configuração conforme <a href="https://github.com/azure-ad-b2c/vscode-extension/blob/master/src/help/policy-upload.md" target="_blank" rel="noopener noreferrer">documentação oficial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Ao configurar a propriedade <code>Graph: Clientid</code> da extensão, utilizar o client id do app msgraph configurado no tenant do AD B2C. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.MsGraph.clientId</a>.</p> <h2 id="configuracao-app-settings-json"><a href="#configuracao-app-settings-json" class="header-anchor">#</a> Configuração app.settings.json</h2> <p>Este arquivo está na raiz do projeto e contém configurações que serão aplicadas nos arquivos de template de policy gerando as policies com configurações específicas para cada instância de AD B2C existente.</p> <table><thead><tr><th>propriedade</th> <th>descrição</th> <th>exemplo</th></tr></thead> <tbody><tr><td>Tenant</td> <td>domínio do tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.PrimaryDomain</a>.</td> <td>dhuob2c.onmicrosoft.com</td></tr> <tr><td>InstrumentationKey</td> <td>Instrumentation key do Application Insights cadastrado. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">defaultTenant.app.ApplicationInsights.InstrumentationKey</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>TenantObjectId</td> <td>Tenant ID do tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.TenantId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>TokenLifeTimeSecs</td> <td>tempo de duração em segundos do token. Default: 86400</td> <td>86400</td></tr> <tr><td>IdTokenLifeTimeSecs</td> <td>tempo de duração em segundos do idtoken. Default: 86400</td> <td>86400</td></tr> <tr><td>RefreshTokenLifeTimeSecs</td> <td>tempo de duração em segundos do refresh token. Default: 1209600</td> <td>1209600</td></tr> <tr><td>RollingRefreshTokenLifeTimeSecs</td> <td>tempo de duração em segundos para rolagem do token. Default: 1209600</td> <td>1209600</td></tr> <tr><td>UrlHtmlRepository</td> <td>url de acesso ao bucket do b2c no google storage utilizado para armazenamento dos assets utilizados na customização do front-end de SSO do Azure AD B2C</td> <td>storage.googleapis.com/dhuo-b2c</td></tr> <tr><td>UrlUserProfileAPI</td> <td>url da API para enriquecimento de token com perfil do usuário. Trata-se de uma api do módulo apimanagement-accountsservice no formato: https://{host-gateway-backend}/it-management/v1/users/profile</td> <td>https://gateway-dhuo.br.engineering/it-management/v1/users/profile</td></tr> <tr><td>GoogleClientId</td> <td>google app client id registrado no google developer para autenticação de usuários com conta no Google. Não usado no momento.</td> <td></td></tr> <tr><td>FacebookClientId</td> <td>facebook app client id registrado no facebook developer para autenticação de usuários com conta no Facebook. Não usado no momento.</td> <td></td></tr> <tr><td>ProxyIdentityExperienceFrameworkClientId</td> <td>o Client ID do app ProxyIdentityExperienceFramework configurado no tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.ProxyIdentityExperienceFramework.clientId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>IdentityExperienceFrameworkClientId</td> <td>o Client ID do app IdentityExperienceFramework configurado no tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.IdentityExperienceFramework.clientId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>B2cExtensionsAppClientId</td> <td>o Client ID do app b2c-extensions-app (Criado automaticamente ao criar o tenant do Azure AD B2C). Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.B2CExtensionsApp.clientId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>B2cExtensionsAppObjectId</td> <td>o Object ID do app b2c-extensions-app (Criado automaticamente ao criar o tenant do Azure AD B2C). Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.B2CExtensionsApp.objectId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>AzureADTenantName</td> <td>domínio do tenant pai (default). Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">defaultTenant.PrimaryDomain</a>.</td> <td>engineeringbr.onmicrosoft.com</td></tr> <tr><td>AzureADClientId</td> <td>o Client ID do app criado no tenant pai (default) para login de usuários internos. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">defaultTenant.app.InternalUser.clientId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr></tbody></table> <h2 id="build"><a href="#build" class="header-anchor">#</a> Build</h2> <p>Uma vez configurado o arquivo appsettings.json, realizar o build para gerar os arquivos de policies com as configurações definidas por ambiente. Os arquivos gerados serão disponibilizados na pasta Environment.</p> <p>Para executar o build basta executar <code>Ctr+Shift+P</code> no vscode e digitar &quot;B2C Policy build&quot; (ou <code>Ctr+Shift+5</code>).</p> <h2 id="deploy"><a href="#deploy" class="header-anchor">#</a> Deploy</h2> <p>Após realizar o build, deve ser feito o upload das policies para o AD B2C. Isso pode ser feito diretamente pelo portal da Azure ou através do vscode utilizando a extensão instalada anteriormente.</p> <p>Para executar o upload pelo vscode basta abrir o arquivo da policy e executar <code>Ctrl+Shift+P</code> e digitar &quot;B2C Upload current policy&quot; (ou <code>Ctrl+Shift+U</code>)</p> <p>Para executar o upload pelo portal Azure:</p> <ul><li>Acesse o portal Azure</li> <li>Certifique-se que esteja no tenant b2c</li> <li>Caso não esteja, vá no menu de usuário e selecione a opção <strong>Switch directory</strong> e, na tela seguinte, troque para o diretório do tenant b2c</li> <li>Na página inicial do portal, busque por e selecione Azure AD B2C</li> <li>Acessar Identity Experience Framework &gt; Custom policies. Selecionar <strong>Upload custom policy</strong></li> <li>Realizar o upload do arquivo da policy</li></ul> <p><strong>Atenção:</strong> As policies possuem uma cadeia de dependências. Caso seja o primeiro upload, ou tenha alterações em várias policies, a ordem a ser seguida é:</p> <ul><li>B2C_1A_VV_TFB.xml</li> <li>B2C_1A_VV_TFE.xml</li> <li>B2C_1A_VV_TFE_EXT.xml</li></ul> <p>demais (não há ordem)</p> <ul><li>B2C_1A_VV_EXT_SU.xml</li> <li>B2C_1A_VV_EXT_SUSI.xml</li> <li>B2C_1A_VV_PassChange.xml</li> <li>B2C_1A_VV_PassReset.xml</li> <li>B2C_1A_VV_ProfileEdit-Native.xml</li> <li>B2C_1A_VV_SUSI.xml</li></ul> <h2 id="configuracoes-dhuo"><a href="#configuracoes-dhuo" class="header-anchor">#</a> Configurações DHUO</h2> <p>Uma vez configurado o AD B2C, é necessário configurar:</p> <ul><li>as páginas customizadas do AD B2C (adb2c-login-estatico)</li> <li>as aplicações que se comunicam com o AD B2C:
<ul><li>apimanagement-accountservice</li> <li>apimanagement-devportal-web</li> <li>viaapi-web</li></ul></li> <li>os consumers no gateway backend para comunicação AD B2C &lt;--&gt; DHUO Back-end.</li></ul> <p>As configurações de aplicações e consumers são detalhadas na seção principal do manual.</p> <h3 id="ad-b2c-custom-ui-adb2c-login-estatico"><a href="#ad-b2c-custom-ui-adb2c-login-estatico" class="header-anchor">#</a> AD B2C Custom UI (adb2c-login-estatico)</h3> <ol><li>Configurar o arquivo <strong>.env</strong> a partir do modelo presente no diretório <a href="https://gitlab.engdb.com.br/apione/dhuoapi-install/-/tree/master/adb2c/adb2c-login-estatico" target="_blank" rel="noopener noreferrer">/adb2c/adb2c-login-estatico<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> do repositório de templates de configuração. As variáveis configuráveis estão relacionadas abaixo:</li></ol> <table><thead><tr><th>variável</th> <th>descrição</th> <th>exemplo</th></tr></thead> <tbody><tr><td>B2C_STORAGE_URL</td> <td>url de acesso ao bucket do b2c no google storage</td> <td>https://storage.googleapis.com/dhuo-b2c</td></tr> <tr><td>B2C_TENANT_NAME</td> <td>nome do tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.Name</a>.</td> <td>dhuob2c</td></tr> <tr><td>B2C_AUTH_CLIENT_ID</td> <td>o Client ID do app apimanagement-devportal-web configurado no tenant b2c. Vide propriedade <a href="/Manual-de-Instala%C3%A7%C3%A3o-On-Premise-DHUO/AD-B2C-%2D-Provisionamento-Azure">b2cTenant.app.Devportalweb.clientId</a>.</td> <td>11111111-1111-1111-1111-111111111111</td></tr> <tr><td>B2C_DEV_PORTAL_HOST</td> <td>endereço de domínio do developer portal (apimanagement-devportal-web)</td> <td>devportal.br.engineering</td></tr> <tr><td>B2C_RECAPTCHA_SITE_KEY</td> <td>site key obtida na configuração do Google reCAPTCHA</td> <td></td></tr> <tr><td>B2C_RECAPTCHA_VALIDATION_URL</td> <td>url da API de validação de captcha. Trata-se de uma api do módulo apimanagement-accountsservice no formato: https://{host-gateway-backend}/it-management/v1/captcha/validation</td> <td>https://gateway-dhuo.br.engineering/it-management/v1/captcha/validation</td></tr> <tr><td>B2C_RECAPTCHA_VALIDATION_API_KEY</td> <td>apikey do consumer cadastrado no gateway backend para consumo da API de validação do captcha</td> <td></td></tr></tbody></table> <ol start="2"><li>execute o comando para carregar as variáveis de ambiente</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">source</span> .env
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>execute o script <code>env-apply.sh</code></li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>./env-apply.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>faça upload dos arquivos para o bucket do google storage</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>gsutil -h <span class="token string">&quot;Cache-Control:no-store&quot;</span> <span class="token function">rsync</span> -d -r b2c/ gs://<span class="token operator">&lt;</span>bucket<span class="token operator">&gt;</span>/b2c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.53d928aa.js" defer></script><script src="/assets/js/2.18ae1073.js" defer></script><script src="/assets/js/14.aec92575.js" defer></script>
  </body>
</html>
